---
/* Component for rendering interactive tag elements.
 *
 * Props:
 * - tag: string - Tag text identifier
 * - count?: number | string - Optional count indicator
 * - size?: "xs" | "sm" | "md" | "lg" - Size variant
 * - class?: string - Additional CSS classes
 *
 * Example usage:
 * <Tag
 *   tag="javascript"
 *   count={5}
 *   size="md"
 *   class="my-tag"
 * />
 *
 * Notes:
 * - Auto-formats tag text (replaces hyphens)
 * - Links to tag-specific pages
 * - Four size variants available
 * - Hover animations
 * - Theme-based styling
 */

interface Props {
  // Tag text identifier //
  tag: string;
  // Optional count of items with this tag //
  count?: number | string | undefined;
  // Size variant for the tag //
  size?: "xs" | "sm" | "md" | "lg";
  // Optional CSS classes //
  class?: string | undefined;
}

const { tag, count, size = "md", class: className } = Astro.props;

const options = { "rounded-theme": true };
---

<span
  class:list={[
    "bg-secondary border-theme-accent-alt inline-flex items-center justify-center border text-xs font-semibold uppercase tracking-widest text-white transition-all duration-300 hover:cursor-pointer hover:border-theme-primary hover:bg-theme-primary hover:text-theme-accent-alt",
    { "mb-1 mr-2 px-2 py-1 text-sm": size === "xs" || "sm" },
    { "text-md mb-2 mr-2 px-3 py-1": size === "md" },
    { "my-3 mr-6 px-4 py-2": size === "lg" },
    options,
    className,
  ]}
>
  <a
    href={`/tags/${tag}`}
    class:list={[
      "no-underline hover:cursor-pointer",
      { "text-xs": size === "sm" },
      { "text-sm": size === "md" || size === "lg" },
    ]}
  >
    {tag?.replace(/-/g, " ")}
    {count !== undefined && <span class="text-xs font-semibold"> ({count})</span>}
  </a>
</span>
