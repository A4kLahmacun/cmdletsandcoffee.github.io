---
// for more information about collections in Astro, see:
// https://docs.astro.build/en/guides/content-collections/

import { BLOG, SITE } from "@config";
import type { PaginateFunction } from "astro";
import { getPosts } from "@utils/getPosts";
import Posts from "@layouts/Posts.astro";
// import Pagination from "@components/Astro/Pagination.astro";

export async function getStaticPaths({ paginate }: { paginate: PaginateFunction }) {
  const posts = await getPosts();
  return paginate(posts, {
    pageSize: SITE.postsPerPage,
  });
}

const { page } = Astro.props;
const posts = page?.data ?? [];
---

<Posts posts={posts} page={page} subtitle={BLOG.subtitle} collectionName="blog" title={BLOG.title} />
