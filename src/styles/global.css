/*
This file is used to define global styles for the application.

The 'prose' section is used to style markdown content.

 The 'helper classes' section is used to define utility classes that can be used in the application.
*/
@import "./themes.css";
@import "./animations.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /** General **/

  html {
    @apply antialiased;
    @apply bg-theme-primary bg-gradient-linear text-theme-primary mx-auto my-0 flex min-h-[100svh] w-full flex-col items-center font-sans;
    @apply scroll-smooth;
  }

  body {
    @apply min-h-[100svh] w-full max-w-[1680px];
  }

  section {
    @apply mx-auto my-16 w-full p-2;
    /* 256px - 4rem top/bottom margin */
  }

  article {
    @apply my-8 p-1;
    /* 128px - 2rem top/bottom margin */
  }

  div {
    @apply my-2 p-1;
    /* Flexible containers */
  }

  p {
    @apply my-2 p-0.5;
  }

  span {
    /* Inline elements */
    margin: 0;
    /* No disruption to text flow */
    padding: 0;
    display: inline;
    /* Ensure inline behavior */
  }

  /** Typography **/
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .h1,
  .h2,
  .h3,
  .h4,
  .h5,
  .h6 {
    @apply font-serif leading-normal font-bold tracking-widest;
  }

  h5,
  h6,
  .h5,
  .h6 {
    @apply font-mono uppercase;
  }

  h1,
  .h1 {
    @apply text-theme-accent text-[3.5rem] md:text-[4rem] lg:leading-normal lg:tracking-widest;
  }

  h2,
  .h2 {
    @apply text-theme-accent mb-1 text-5xl;
  }

  h3,
  .h3 {
    @apply mb-1 text-3xl;
  }

  h4,
  .h4 {
    @apply mb-1 text-xl;
  }

  h5,
  .h5 {
    @apply mb-1 text-lg font-semibold;
  }

  h6,
  .h6 {
    @apply mb-1 text-sm font-semibold;
  }

  p,
  li,
  a {
    @apply text-theme-primary py-1 font-normal;
  }

  p {
    @apply mb-1;
  }

  a {
    @apply decoration-theme-primary hover:bg-opacity-20 hover:text-theme-accent hover:decoration-theme-secondary focus:ring-theme-primary cursor-pointer underline decoration-2 underline-offset-2 focus:ring-2 focus:ring-offset-2 focus:outline-none;
  }

  a.active {
    @apply text-theme-accent no-underline;
  }

  /* tweak line height */
  p,
  li,
  a {
    @apply leading-relaxed;
  }

  h1,
  .h1 {
    @apply leading-tight;
  }

  pre:has(code) {
    @apply border-theme-secondary mt-3 inline-block w-full overflow-x-auto border p-4 font-mono text-sm transition-colors duration-500 ease-linear;
  }

  code,
  blockquote {
    @apply break-words;
  }

  pre > code {
    @apply whitespace-pre;
    display: inline;
  }

  blockquote {
    @apply border-theme-primary text-theme-primary border-l-4 pl-4 italic;
  }

  ::selection {
    @apply bg-theme-secondary text-theme-secondary;
  }

  /** scrollbar **/

  html {
    overflow-y: scroll;
  }

  /* width */
  ::-webkit-scrollbar {
    @apply w-3;
  }

  /* Track */
  ::-webkit-scrollbar-track {
    @apply shadow-theme-primary;
  }

  /* Handle */
  ::-webkit-scrollbar-thumb {
    @apply bg-theme-accent;
  }

  /* Handle on hover */
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-theme-secondary bg-opacity-50 cursor-pointer;
  }

  /* code block scroll */
  pre:has(code)::-webkit-scrollbar {
    @apply h-1 w-1;
  }
}

/** prose **/

@layer components {
  .prose {
    @apply text-theme-primary text-lg leading-relaxed md:m-auto;
  }

  .prose h1,
  .prose .h1,
  .prose h2,
  .prose .h2,
  .prose h3,
  .prose .h3,
  .prose h4,
  .prose .h4,
  .prose h5,
  .prose .h5,
  .prose h6,
  .prose .h6 {
    @apply font-bold;
  }

  .prose h1,
  .prose .h1 {
    @apply text-theme-secondary max-w-7xl text-4xl leading-relaxed tracking-widest md:text-5xl;
  }

  .prose h2,
  .prose .h2 {
    @apply text-theme-accent mt-8 text-4xl leading-normal tracking-widest;
  }

  .prose h3,
  .prose .h3 {
    @apply text-theme-primary mt-6 text-3xl tracking-widest;
  }

  .prose h4,
  .prose .h4 {
    @apply text-theme-primary mt-4 text-xl tracking-widest;
  }

  .prose h5,
  .prose .h5 {
    @apply text-theme-primary mb-1 font-mono text-lg uppercase;
  }

  .prose h6,
  .prose .h6 {
    @apply text-theme-primary mb-1 font-mono text-sm uppercase;
  }

  .prose p {
    @apply text-theme-primary p-2 text-lg lg:p-2.5;
  }

  .prose a {
    @apply text-theme-primary decoration-theme-primary hover:bg-opacity-20 hover:text-theme-accent hover:decoration-theme-secondary cursor-pointer decoration-2 underline-offset-2;
  }

  .prose blockquote {
    @apply border-theme-secondary text-theme-primary border-l-4 pl-4 italic;
  }

  .prose ul {
    @apply marker:text-theme-primary list-inside;
  }

  .prose ol {
    @apply list-inside list-decimal;
  }

  .prose li {
    @apply text-theme-primary py-1 text-lg leading-relaxed;
  }

  .prose pre {
    @apply border-theme-secondary mt-3 overflow-x-auto border p-4 font-mono text-sm transition-colors duration-[1500ms] ease-linear;
    display: inline-block;
    width: 100%;
  }

  .prose pre code {
    @apply whitespace-pre;
    display: inline;
  }

  .prose code:not(pre code) {
    @apply bg-theme-secondary text-theme-secondary inline-block px-1;
  }

  .prose strong:not(h1 strong, h2 strong, h3 strong, h4 strong, h5 strong, h6 strong) {
    @apply text-theme-primary relative font-semibold tracking-wider;
    /* Changed to font-semibold and font-sans for readability */
  }

  .prose ::selection {
    @apply bg-theme-secondary text-theme-secondary;
  }
}

/** helper classes **/

@layer components {
  .is-title {
    @apply bg-gradient-radial bg-clip-text font-serif text-5xl font-bold text-transparent md:text-6xl lg:leading-normal lg:tracking-widest;
  }

  .is-title-alt {
    @apply bg-theme-secondary text-theme-secondary font-serif text-5xl font-bold md:text-6xl lg:leading-normal lg:tracking-widest;
  }

  .focused {
    @apply outline-2 outline-offset-1 focus-visible:no-underline focus-visible:outline-dashed;
  }

  .disabled {
    @apply pointer-events-none no-underline opacity-50;
  }
}
