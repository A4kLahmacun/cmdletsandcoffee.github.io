/*
This file is used to define global styles for the application.

The 'prose' section is used to style markdown content.

 The 'helper classes' section is used to define utility classes that can be used in the application.
*/
@import "./themes.css";
@import "./animations.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /** General **/

  html {
    @apply antialiased;
    @apply mx-auto my-0 flex min-h-[100svh] w-full flex-col items-center bg-theme-primary bg-gradient-linear font-sans text-theme-primary;
    @apply scroll-smooth;
  }

  body {
    @apply min-h-[100svh] w-full max-w-[1680px];
  }

  section {
    @apply mx-auto my-16 w-full p-2;
    /* 256px - 4rem top/bottom margin */
  }

  article {
    @apply my-8 p-1;
    /* 128px - 2rem top/bottom margin */
  }

  div {
    @apply my-2 p-1;
    /* Flexible containers */
  }

  p {
    @apply my-2 p-0.5;
  }

  span {
    /* Inline elements */
    margin: 0;
    /* No disruption to text flow */
    padding: 0;
    display: inline;
    /* Ensure inline behavior */
  }

  /** Typography **/
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .h1,
  .h2,
  .h3,
  .h4,
  .h5,
  .h6 {
    @apply font-serif font-bold leading-normal tracking-widest;
  }

  h5,
  h6,
  .h5,
  .h6 {
    @apply font-mono uppercase;
  }

  h1,
  .h1 {
    @apply text-[3.5rem] text-theme-accent md:text-[4rem] lg:leading-normal lg:tracking-widest;
  }

  h2,
  .h2 {
    @apply mb-1 text-5xl text-theme-accent;
  }

  h3,
  .h3 {
    @apply mb-1 text-3xl;
  }

  h4,
  .h4 {
    @apply mb-1 text-xl;
  }

  h5,
  .h5 {
    @apply mb-1 text-lg font-semibold;
  }

  h6,
  .h6 {
    @apply mb-1 text-sm font-semibold;
  }

  p,
  li,
  a {
    @apply py-1 font-normal text-theme-primary;
  }

  p {
    @apply mb-1;
  }

  a {
    @apply cursor-pointer underline decoration-theme-primary decoration-2 underline-offset-2 hover:bg-opacity-20 hover:text-theme-accent hover:decoration-theme-secondary focus:outline-none focus:ring-2 focus:ring-theme-primary focus:ring-offset-2;
  }

  a.active {
    @apply text-theme-accent no-underline;
  }

  /* tweak line height */
  p,
  li,
  a {
    @apply leading-relaxed;
  }

  h1,
  .h1 {
    @apply leading-tight;
  }

  pre:has(code) {
    @apply mt-3 inline-block w-full overflow-x-auto border border-theme-secondary p-4 font-mono text-sm transition-colors duration-500 ease-linear;
  }

  code,
  blockquote {
    @apply break-words;
  }

  pre > code {
    @apply whitespace-pre;
    display: inline;
  }

  blockquote {
    @apply border-l-4 border-theme-primary pl-4 italic text-theme-primary;
  }

  ::selection {
    @apply bg-theme-secondary text-theme-secondary;
  }

  /** scrollbar **/

  html {
    overflow-y: scroll;
  }

  /* width */
  ::-webkit-scrollbar {
    @apply w-3;
  }

  /* Track */
  ::-webkit-scrollbar-track {
    @apply shadow-theme-primary;
  }

  /* Handle */
  ::-webkit-scrollbar-thumb {
    @apply bg-theme-accent;
  }

  /* Handle on hover */
  ::-webkit-scrollbar-thumb:hover {
    @apply cursor-pointer bg-theme-secondary bg-opacity-50;
  }

  /* code block scroll */
  pre:has(code)::-webkit-scrollbar {
    @apply h-1 w-1;
  }
}

/** prose **/

@layer components {
  .prose {
    @apply text-lg leading-relaxed text-theme-primary md:m-auto;
  }

  .prose h1,
  .prose .h1,
  .prose h2,
  .prose .h2,
  .prose h3,
  .prose .h3,
  .prose h4,
  .prose .h4,
  .prose h5,
  .prose .h5,
  .prose h6,
  .prose .h6 {
    @apply font-bold;
  }

  .prose h1,
  .prose .h1 {
    @apply max-w-7xl text-4xl leading-relaxed tracking-widest text-theme-secondary md:text-5xl;
  }

  .prose h2,
  .prose .h2 {
    @apply mt-8 text-4xl leading-normal tracking-widest text-theme-accent;
  }

  .prose h3,
  .prose .h3 {
    @apply mt-6 text-3xl tracking-widest text-theme-primary;
  }

  .prose h4,
  .prose .h4 {
    @apply mt-4 text-xl tracking-widest text-theme-primary;
  }

  .prose h5,
  .prose .h5 {
    @apply mb-1 font-mono text-lg uppercase text-theme-primary;
  }

  .prose h6,
  .prose .h6 {
    @apply mb-1 font-mono text-sm uppercase text-theme-primary;
  }

  .prose p {
    @apply p-2 text-lg text-theme-primary lg:p-2.5;
  }

  .prose a {
    @apply cursor-pointer text-theme-primary decoration-theme-primary decoration-2 underline-offset-2 hover:bg-opacity-20 hover:text-theme-accent hover:decoration-theme-secondary;
  }

  .prose blockquote {
    @apply border-l-4 border-theme-secondary pl-4 italic text-theme-primary;
  }

  .prose ul {
    @apply list-inside marker:text-theme-primary;
  }

  .prose ol {
    @apply list-inside list-decimal;
  }

  .prose li {
    @apply py-1 text-lg leading-relaxed text-theme-primary;
  }

  .prose pre {
    @apply mt-3 overflow-x-auto border border-theme-secondary p-4 font-mono text-sm transition-colors duration-[1500ms] ease-linear;
    display: inline-block;
    width: 100%;
  }

  .prose pre code {
    @apply whitespace-pre;
    display: inline;
  }

  .prose code:not(pre code) {
    @apply inline-block bg-theme-secondary px-1 text-theme-secondary;
  }

  .prose strong:not(h1 strong, h2 strong, h3 strong, h4 strong, h5 strong, h6 strong) {
    @apply relative font-semibold tracking-wider text-theme-primary;
    /* Changed to font-semibold and font-sans for readability */
  }

  .prose ::selection {
    @apply bg-theme-secondary text-theme-secondary;
  }
}

/** helper classes **/

@layer components {
  .is-title {
    @apply bg-gradient-radial bg-clip-text font-serif text-5xl font-bold text-transparent md:text-6xl lg:leading-normal lg:tracking-widest;
  }

  .is-title-alt {
    @apply bg-theme-secondary font-serif text-5xl font-bold text-theme-secondary md:text-6xl lg:leading-normal lg:tracking-widest;
  }

  .focused {
    @apply outline-2 outline-offset-1 focus-visible:no-underline focus-visible:outline-dashed;
  }

  .disabled {
    @apply pointer-events-none no-underline opacity-50;
  }
}
